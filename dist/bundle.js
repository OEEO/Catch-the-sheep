!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){var r,o,i={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,l=0,u=[],p=n(7);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(g(r.parts[s],t))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(g(r.parts[s],t));i[r.id]={id:r.id,refs:1,parts:a}}}}function h(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],s=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function d(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function b(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function m(e){var t=document.createElement("style");return e.attrs.type="text/css",y(t,e.attrs),d(e,t),t}function y(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function g(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var s=l++;n=c||(c=m(t)),r=x.bind(null,n,s,!1),o=x.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",y(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=p(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),o=function(){b(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){b(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return f(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var s=n[o];(a=i[s.id]).refs--,r.push(a)}e&&f(h(e,t),t);for(o=0;o<r.length;o++){var a;if(0===(a=r[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete i[a.id]}}}};var v,k=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function x(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=k(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){"use strict";n.r(t);n(9),n(6),n(4);function r(e,t){[...document.querySelectorAll(e)].forEach(e=>{e.style.backgroundImage=`url(${t})`})}function o(e,t,n){let r=Number.parseInt(e.style.top),o=Number.parseInt(e.style.left);switch(n){case"left":e.style.left=o-t+"px";break;case"right":e.style.left=o+t+"px";break;case"up":e.style.top=r-t+"px";break;case"down":e.style.top=r+t+"px"}return e}function i(e,t,n,r,o){4===e[n.x][n.y]?t[n.x][n.y]=4:t[n.x][n.y]=2,n.x=r,n.y=o,t[r][o]=n}function s(e,t){u("body","keydown",e.keydownEvent),u("body","keyup",e.keyupEvent),u("body","click",e.clickEvent),e.init(t%[[[0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0,0,0],[0,0,0,1,4,1,0,0,0,0],[0,0,0,1,2,1,1,1,1,0],[0,1,1,1,3,2,3,4,1,0],[0,1,4,2,3,5,1,1,1,0],[0,1,1,1,1,3,1,0,0,0],[0,0,0,0,1,4,1,0,0,0],[0,0,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0]],[[1,1,1,1,1,1,1,0,0,0],[1,2,2,2,1,0,0,0,0,0],[1,2,3,2,1,0,1,1,1,0],[1,2,3,5,1,0,1,4,1,0],[1,1,1,3,1,1,1,4,1,0],[0,1,1,2,2,2,2,4,1,0],[0,1,2,2,2,1,2,2,1,0],[0,1,2,2,2,1,1,1,1,0],[0,1,1,1,1,1,0,0,0,0]],[[0,1,1,1,1,1,1,1,1,1,0],[0,1,2,2,1,1,2,2,2,1,0],[0,1,2,2,2,3,2,2,2,1,0],[0,1,3,2,1,1,1,2,3,1,0],[0,1,2,1,4,4,4,1,2,1,0],[1,1,2,1,4,4,4,1,2,1,1],[1,2,3,2,2,3,2,2,3,2,1],[1,2,2,2,2,2,1,2,2,5,1],[1,1,1,1,1,1,1,1,1,1,1]],[[0,0,1,1,1,1,1,0,0,0],[0,1,1,2,2,2,1,1,0,0],[0,1,2,2,3,4,4,1,1,0],[1,1,3,2,1,4,3,4,1,0],[1,2,2,2,1,4,4,4,1,0],[1,2,3,1,1,1,3,2,1,0],[1,2,2,3,2,3,2,1,1,0],[1,1,5,2,2,2,2,1,0,0],[0,1,1,1,1,1,1,1,0,0]]].length),document.querySelector(".tips").style.top="-100%",document.querySelector("#foot").innerHTML=0}function a(e,t=!1){let n="";const r=37,a=38,c=39,l=40,u=32,p=13;if(e.check[u])s(e,e.curLevel);else if(e.check[p])s(e,e.curLevel+1);else{if(t)switch(!0){case e.check[r]:n="right";break;case e.check[c]:n="left";break;case e.check[a]:n="down";break;case e.check[l]:n="up"}else switch(!0){case e.check[r]:n="left";break;case e.check[c]:n="right";break;case e.check[a]:n="up";break;case e.check[l]:n="down"}!function(e,t){let n=e.curStatus.wolf,r=function(e,t,n,r){t=+t,n=+n;let o={type:-1,x:null,y:null};switch(r){case"left":o.type=e[t][n-1],o.x=t,o.y=n-1;break;case"right":o.type=e[t][n+1],o.x=t,o.y=n+1;break;case"up":o.type=e[t-1][n],o.x=t-1,o.y=n;break;case"down":o.type=e[t+1][n],o.x=t+1,o.y=n;break;default:o.type=-1}return o}.bind(e,e.curStatus.map),s=r(n.x,n.y,t);if(console.log(s.type),2===s.type||4===s.type)o(n.object,e.item.base,t),i(e.status,e.curStatus.map,n,s.x,s.y);else{if("object"!=typeof s.type||"sheep"!==s.type.name)return;{let u=r(s.x,s.y,t),p=e.curStatus.map[s.x][s.y];if(2!==u.type&&4!==u.type)return;o(p.object,e.item.base,t),i(e.status,e.curStatus.map,p,u.x,u.y),o(n.object,e.item.base,t),i(e.status,e.curStatus.map,n,s.x,s.y),4===u.type?(e.sheepBeCatchObj.sheepSet.add(`${u.x}-${u.y}`),p.object.style.backgroundImage=`url(${e._sheepBeCatchImage})`):p.object.style.backgroundImage=`url(${e._sheepImage})`,a=e.sheepBeCatchObj,c=n.x,l=n.y,a.sheepSet.delete(`${c}-${l}`),function(e){return e.sheepSet.size===e.len}(e.sheepBeCatchObj)&&(e.taskFinish=!0,clearInterval(e.timeCount),setTimeout(()=>{document.querySelector(".tips").style.top="200px"},500))}}var a,c,l;e.steps++,document.querySelector("#foot").innerHTML=e.steps}(e,n)}}function c(e){return 13===e||32===e||37===e||38===e||39===e||40===e}function l(e,t,n){document.querySelector(e).addEventListener(t,n)}function u(e,t,n){document.querySelector(e).removeEventListener(t,n)}function p(e,t,n,r,o){let i=document.createElement("div");return i.className=n,i.style.left=e*r+"px",i.style.top=t*r+"px",o.appendChild(i),i}function f(e){return new Promise((t,n)=>{let r=new Image;r.src=e,r.onload=(()=>{t(r)})})}async function h(e,t,n,r){let o=document.createElement("canvas");o.width=550,o.height=550,e.appendChild(o);let i,s,a,c=o.getContext("2d"),l=f(n.wallImage),u=f(n.floorImage),h=f(n.targetImage);f(n.sheepImage),f(n.wolfImage),f(n.sheepBeCatchImage);function d(e,t,r){c.drawImage(e,n.base*t,n.base*r,n.base,n.base)}return Promise.all([l,u,h]).then(o=>{i=o[0],s=o[1],a=o[2];let l=function e(t){if("object"!=typeof t)return;let n="",r=t.constructor===Array?[]:{};if(window.JSON)n=JSON.stringify(t),r=JSON.parse(n);else for(let n in t)r[n]="object"==typeof t[n]?e(t[n]):t[n];return r}(t),u=null;return t.forEach((t,o)=>{t.forEach((t,f)=>{switch(t){case 0:c.fillStyle="transparent",c.fillRect(n.base*f,n.base*o,n.base,n.base);break;case 1:d(i,f,o);break;case 2:d(s,f,o);break;case 3:d(s,f,o),l[o][f]={name:"sheep",x:o,y:f,object:p(f,o,"sheep",n.base,e)};break;case 4:d(s,f,o),d(a,f,o),r.len++;break;case 5:d(s,f,o),l[o][f]={name:"wolf",x:o,y:f,object:p(f,o,"wolf",n.base,e)},u={x:o,y:f,object:l[o][f].object};break;default:d(s,f,o)}})}),{map:l,wolf:u}})}function d(e,t){this.container=e,this.item=t||{},this.curStatus=null,this.item.base=t.base||50,this.init=async function(e){this.timeCount&&clearInterval(this.timeCount),this.sheepBeCatchObj={len:0,sheepSet:new Set},this.check={},this.steps=0,this.taskFinish=!1,this.curLevel=e||0,this.container.innerHTML="",this.status=[[[0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0,0,0],[0,0,0,1,4,1,0,0,0,0],[0,0,0,1,2,1,1,1,1,0],[0,1,1,1,3,2,3,4,1,0],[0,1,4,2,3,5,1,1,1,0],[0,1,1,1,1,3,1,0,0,0],[0,0,0,0,1,4,1,0,0,0],[0,0,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0]],[[1,1,1,1,1,1,1,0,0,0],[1,2,2,2,1,0,0,0,0,0],[1,2,3,2,1,0,1,1,1,0],[1,2,3,5,1,0,1,4,1,0],[1,1,1,3,1,1,1,4,1,0],[0,1,1,2,2,2,2,4,1,0],[0,1,2,2,2,1,2,2,1,0],[0,1,2,2,2,1,1,1,1,0],[0,1,1,1,1,1,0,0,0,0]],[[0,1,1,1,1,1,1,1,1,1,0],[0,1,2,2,1,1,2,2,2,1,0],[0,1,2,2,2,3,2,2,2,1,0],[0,1,3,2,1,1,1,2,3,1,0],[0,1,2,1,4,4,4,1,2,1,0],[1,1,2,1,4,4,4,1,2,1,1],[1,2,3,2,2,3,2,2,3,2,1],[1,2,2,2,2,2,1,2,2,5,1],[1,1,1,1,1,1,1,1,1,1,1]],[[0,0,1,1,1,1,1,0,0,0],[0,1,1,2,2,2,1,1,0,0],[0,1,2,2,3,4,4,1,1,0],[1,1,3,2,1,4,3,4,1,0],[1,2,2,2,1,4,4,4,1,0],[1,2,3,1,1,1,3,2,1,0],[1,2,2,3,2,3,2,1,1,0],[1,1,5,2,2,2,2,1,0,0],[0,1,1,1,1,1,1,1,0,0]]][this.curLevel],this.curStatus=await h(this.container,this.status,this.item,this.sheepBeCatchObj),r(".wolf",this.item.wolfImage),r(".sheep",this.item.sheepImage),this.move=!1,this.timer=0,this.gameStartDate=Date.now(),this.timeCount=setInterval(()=>{let e=((Date.now()-this.gameStartDate)/1e3).toFixed(1);document.querySelector("#time").innerHTML=e},100),this._proxy(this.item),this.keydownEvent=function(e){if(c(e.keyCode)){if(e.preventDefault(),this.taskFinish&&32!==e.keyCode&&13!==e.keyCode)return;if(this.move){let e=Date.now();if(e-this.timer<200)return;a(this),this.timer=e}else this.move=!0,this.check[e.keyCode]=!0,this.timer=Date.now(),a(this)}}.bind(this),this.keyupEvent=function(e){this.check[e.keyCode]=!1,c(e.keyCode)&&(this.move=!1)}.bind(this),this.clickEvent=function(e){if("BUTTON"===e.target.nodeName)switch(e.target.id){case"btn-reset":s(this,this.curLevel);break;case"btn-next":s(this,this.curLevel+1)}}.bind(this),l("body","keydown",this.keydownEvent),l("body","keyup",this.keyupEvent),l("body","click",this.clickEvent)},this.init()}d.prototype._proxy=function(e){for(let t in e)this[`_${t}`]=e[t]},new d(document.querySelector(".wrap"),{wallImage:"./static/img/wall.png",floorImage:"./static/img/floor.png",targetImage:"./static/img/target.png",sheepImage:"./static/img/sheep.png",wolfImage:"./static/img/wolf.png",sheepBeCatchImage:"./static/img/sheep-be-catch.png"})},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".wolf {\n  position: absolute;\n  width: 50px;\n  height: 50px;\n  background-size: 50px 50px; }\n\n.sheep {\n  position: absolute;\n  width: 50px;\n  height: 50px;\n  background-size: 50px 50px; }\n",""])},function(e,t,n){var r=n(3);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"body {\n  font-size: 16px;\n  font-family: \"Microsoft Yahei Font\"; }\n\n.clearfloat:after {\n  visibility: hidden;\n  content: '';\n  height: 0;\n  clear: both; }\n\n.container {\n  position: relative;\n  width: 700px;\n  height: 600px;\n  margin: 100px auto;\n  background-color: #93b901;\n  background-size: 700px 600px; }\n  .container .wrap {\n    position: relative; }\n  .container .menu {\n    position: absolute;\n    width: 150px;\n    right: 0;\n    top: 0; }\n    .container .menu .info {\n      text-align: left;\n      height: 30px;\n      line-height: 30px;\n      color: red;\n      font-size: 20px;\n      font-weight: 600; }\n    .container .menu .btns {\n      margin-top: 10px; }\n      .container .menu .btns .btn {\n        display: block;\n        padding: 8px 10px;\n        outline: 0;\n        border: none;\n        border-radius: 5px;\n        font-size: 16px;\n        color: #eee;\n        background-color: #ee6655;\n        -webkit-transition: all 0.25s;\n        transition: all 0.25s; }\n        .container .menu .btns .btn:hover {\n          cursor: pointer;\n          background-color: #ff8163;\n          color: #fff; }\n    .container .menu .instruction {\n      margin-top: 10px;\n      text-align: left;\n      padding: 10px;\n      line-height: 1.6; }\n  .container .tips {\n    position: absolute;\n    top: -100%;\n    left: 200px;\n    width: 200px;\n    height: 200px;\n    font-size: 25px;\n    background-color: blue;\n    color: #fff;\n    -webkit-transition: all 0.25;\n    transition: all 0.25; }\n",""])},function(e,t,n){var r=n(5);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,o);r.locals&&(e.exports=r.locals)},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"/**\r\n * Eric Meyer's Reset CSS v2.0 (http://meyerweb.com/eric/tools/css/reset/)\r\n * http://cssreset.com\r\n */\r\nhtml, body, div, span, applet, object, iframe,\r\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\na, abbr, acronym, address, big, cite, code,\r\ndel, dfn, em, img, ins, kbd, q, s, samp,\r\nsmall, strike, strong, sub, sup, tt, var,\r\nb, u, i, center,\r\ndl, dt, dd, ol, ul, li,\r\nfieldset, form, label, legend,\r\ntable, caption, tbody, tfoot, thead, tr, th, td,\r\narticle, aside, canvas, details, embed,\r\nfigure, figcaption, footer, header,\r\nmenu, nav, output, ruby, section, summary,\r\ntime, mark, audio, video, input {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    font-size: 100%;\r\n    font-weight: normal;\r\n    vertical-align: baseline;\r\n}\r\n/* HTML5 display-role reset for older browsers */\r\narticle, aside, details, figcaption, figure,\r\nfooter, header, menu, nav, section {\r\n    display: block;\r\n}\r\n\r\nbody {\r\n    line-height: 1;\r\n}\r\n\r\nblockquote, q {\r\n    quotes: none;\r\n}\r\n\r\nblockquote:before, blockquote:after,\r\nq:before, q:after {\r\n    content: none;\r\n}\r\n\r\ntable {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n}\r\n\r\n/* custom */\r\na {\r\n    color: #7e8c8d;\r\n    text-decoration: none;\r\n    -webkit-backface-visibility: hidden;\r\n}\r\n\r\nli {\r\n    list-style: none;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n    width: 5px;\r\n    height: 5px;\r\n}\r\n\r\n::-webkit-scrollbar-track-piece {\r\n    background-color: rgba(0, 0, 0, .2);\r\n    -webkit-border-radius: 6px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:vertical {\r\n    height: 5px;\r\n    background-color: rgba(125, 125, 125, .7);\r\n    -webkit-border-radius: 6px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:horizontal {\r\n    width: 5px;\r\n    background-color: rgba(125, 125, 125, .7);\r\n    -webkit-border-radius: 6px;\r\n}\r\n\r\nhtml, body {\r\n    width: 100%;\r\n}\r\n\r\nbody {\r\n    -webkit-text-size-adjust: none;\r\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\r\n}",""])},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,o);r.locals&&(e.exports=r.locals)}]);
//# sourceMappingURL=bundle.js.map